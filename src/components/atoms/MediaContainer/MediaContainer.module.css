/* src/components/atoms/MediaContainer/MediaContainer.module.css */
.mediaContainer {
  position: relative;
  width: 100%;
  height: 100%;
  overflow: hidden;
  background-color: var(--color-grey-card);
}

.fullWidth {
  width: 100%;
}

.video {
  border-radius: var(--radius-xl);
}

.fixedSize {
  flex-shrink: 0;
}

/* Media element (both image and video) */
.media {
  width: 100%;
  height: 100%;
  display: block;
  transition: opacity var(--duration-base) var(--easing-standard);
  opacity: 0;
}

/* Show media when loaded */
.mediaLoaded {
  opacity: 1;
}

/* Loading state */
.loading {
  /* Optional: add any container-specific loading styles */
}

/* Skeleton loader - using design tokens */
.skeleton {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: var(--color-gray-100);
  z-index: 1;
  animation: pulse var(--duration-very-slow) var(--easing-standard) infinite
    alternate;
}

@keyframes pulse {
  0% {
    opacity: 0.6;
  }
  100% {
    opacity: 1;
  }
}

/* Object fit variations */
.fit-cover .media {
  object-fit: cover;
}

.fit-contain .media {
  object-fit: contain;
}

.fit-fill .media {
  object-fit: fill;
}

/* Aspect ratio variations */
.aspect-square {
  aspect-ratio: 1 / 1;
}

.aspect-video {
  aspect-ratio: 16 / 9;
}

.aspect-portrait {
  aspect-ratio: 3 / 4;
}

.aspect-landscape {
  aspect-ratio: 4 / 3;
}

.aspect-banner {
  aspect-ratio: 21 / 9;
}

/* Placeholder for when media fails to load */
.placeholder {
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  background-color: var(--color-bg-tertiary);
  color: var(--color-text-secondary);
  overflow: hidden;
  border-radius: inherit;
  border: 1px solid var(--color-border-secondary);
}

.placeholderIcon {
  width: var(--space-6);
  height: var(--space-6);
  margin-bottom: var(--space-2);
}

.placeholderText {
  font-size: var(--font-size-caption);
  text-align: center;
  padding: var(--space-4);
}

/* Dark mode support for skeleton */
@media (prefers-color-scheme: dark) {
  .skeleton {
    background-color: var(--color-gray-600);
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .media {
    transition: none;
  }

  .skeleton {
    animation: none;
    opacity: 0.6;
  }
}

/* Responsive adjustments */
@media (max-width: 640px) {
  .mediaContainer {
    border-radius: var(--radius-md);
  }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .skeleton {
    background-color: var(--color-gray-400);
  }

  .placeholder {
    border-width: 2px;
    border-color: currentColor;
  }
}
